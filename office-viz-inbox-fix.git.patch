--- a/addons/agent-office/services/office-viz/src/server.js	2026-01-16 04:46:35.000000000 +0000
+++ b/addons/agent-office/services/office-viz/src/server.js	2026-01-16 21:48:17.586743071 +0000
@@ -1015,10 +1015,33 @@
       document.getElementById('event-count').innerText = eventCount;
       log('[' + evt.type + '] ' + (evt.agent_id||'') + ' ' + (evt.task_id||''));
 
+      // Helper: ensure a task exists in the Inbox before any pickup/dispatch animation.
+      // Some producers emit task lifecycle events without an agent_id; the Inbox should still
+      // reflect queued work.
+      function ensureInInbox(e) {
+        const id = e.task_id || e.run_id;
+        if (!id) return;
+        const exists = inboxTasks.some(t => t.id === id);
+        if (exists) return;
+        inboxTasks.push({
+          id,
+          summary: e.input_summary || e.summary || 'New Task',
+          agent: e.agent_name || 'System'
+        });
+      }
+
+      // System-level queue events (may not include agent_id)
+      if (evt.type === 'task_created' || evt.type === 'task_enqueued') {
+        ensureInInbox(evt);
+        renderPanes();
+        // Do not return: we still want to animate if an agent_id is present.
+      }
+
       const agentId = evt.agent_id;
-      if (!agentId) return;
+      // Most animations require an agent id, but Inbox updates do not.
+      if (!agentId && evt.type !== 'task_assigned') return;
 
-      const agent = ensureAgent(agentId, evt.agent_name);
+      const agent = agentId ? ensureAgent(agentId, evt.agent_name) : null;
 
       switch(evt.type) {
         case 'agent_spawned':
@@ -1026,13 +1049,7 @@
           break;
 
         case 'task_enqueued':
-          console.log('Adding task to inbox:', evt.task_id);
-          inboxTasks.push({
-            id: evt.task_id || evt.run_id,
-            summary: evt.input_summary || 'New Task',
-            agent: evt.agent_name || 'System'
-          });
-          renderPanes();
+          // handled above (kept for backward compatibility)
           break;
 
         case 'task_started':
@@ -1050,9 +1067,13 @@
           // Logic: Ops Manager (Dispatcher) picks up -> Walks to Assignee -> Drops -> Walks Home
 
           const dispatcherId = 'ops_manager:dev'; // Hardcoded for now, or find agent with role 'ops'
-          const assigneeId = evt.to_agent_id || evt.agent_id;
+          const assigneeId = evt.to_agent_id || evt.agent_id || dispatcherId;
+
+          // If the producer never emitted task_enqueued/task_created, backfill so pickup can remove it.
+          ensureInInbox(evt);
+          renderPanes();
 
-          if (assigneeId && agents[dispatcherId]) {
+          if (assigneeId) {
              ensureAgent(dispatcherId);
              ensureAgent(assigneeId);
 
