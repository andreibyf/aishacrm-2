# Aisha CRM Configuration
#
# DEV vs PROD URL NOTES (for future Copilot or devs):
# - Docker-based PROD frontend/container uses internal `http://localhost:4000`.
#   Externally you reach it at `https://app.aishacrm.com`. Keep this value in
#   production `ALLOWED_ORIGINS`, `SUPABASE_PROXY_ALLOWED_ORIGINS`, and
#   `FRONTEND_URL` so credentialed requests succeed.
# - Local DEV servers (e.g., `npm run dev` or Vite) may run on `http://localhost:3000`
#   or `http://localhost:5173`. Those belong only in `.env.local` (or other
#   dev-specific files) and should never appear in the production config.
# - Backend is always served from `http://localhost:4001` inside Docker, so both
#   dev and prod clients talk to that port even though external prod traffic lands at
#   `https://app.aishacrm.com/api/*`.

# Base44 Integration (for data sync/migration only)
VITE_BASE44_APP_ID=your_app_id_here

# Your Independent Backend Server - REQUIRED FOR PRODUCTION
# Development (Docker): http://localhost:4001
# Production: https://api.aishacrm.com or your backend URL
# CRITICAL: Must be set in production .env or frontend-entrypoint.sh will fail
VITE_AISHACRM_BACKEND_URL=http://localhost:4001

# MCP defaults
# Frontend fallback tenant for MCP Monitor (UUID)
VITE_SYSTEM_TENANT_ID=
# Server-side default tenant for MCP CRM adapter (UUID)
DEFAULT_TENANT_ID=

# Supabase Authentication & Database - REQUIRED
# Get from your Supabase project settings â†’ API
# PRODUCTION: https://ehjlenywplgyiahgxkfj.supabase.co
# DEV/QA: https://efzqxjpfewkrgpdootte.supabase.co
VITE_SUPABASE_URL=https://ehjlenywplgyiahgxkfj.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Current Git Branch (for QA Console E2E triggers)
VITE_CURRENT_BRANCH=main

# C.A.R.E. (Cognitive Adaptive Response Engine) Configuration
# SAFETY DEFAULTS: Autonomy OFF, Shadow Mode ON (observe-only)
# Only enable autonomy after careful review and opt-in per tenant
CARE_AUTONOMY_ENABLED=false
CARE_SHADOW_MODE=true

# PR8: Workflow Webhook Trigger Integration
# Controls whether escalation events trigger external workflows (Pabbly/Thoughtly/CallFluent)
# Default false = no external HTTP calls, fully disabled (safety first)
CARE_WORKFLOW_TRIGGERS_ENABLED=false

# Webhook URL to POST escalation events (workflow trigger node)
# Leave empty to disable. Must be HTTPS in production.
CARE_WORKFLOW_ESCALATION_WEBHOOK_URL=

# HMAC-SHA256 secret for signing webhook payloads (X-AISHA-SIGNATURE header)
# Required if CARE_WORKFLOW_ESCALATION_WEBHOOK_URL is set
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CARE_WORKFLOW_WEBHOOK_SECRET=

# Timeout for webhook HTTP requests (milliseconds, default: 3000)
CARE_WORKFLOW_WEBHOOK_TIMEOUT_MS=3000

# Maximum retry attempts for failed webhook requests (default: 2)
# Retries use exponential backoff with jitter
CARE_WORKFLOW_WEBHOOK_MAX_RETRIES=2

# Add other environment variables as needed
# VITE_FEATURE_FLAG_XYZ=
