Implement PLAN.md.

Rules:
- Atomic commits
- Do not expand scope
- Preserve contracts unless specified
- Add tests listed in plan
- Show diff after each step
