#!/bin/sh
# Run lint to catch syntax errors (allow warnings)
npm run lint

# Run build to catch compile errors
# Use build:ci when Doppler is not available (CI environment)
if command -v doppler >/dev/null 2>&1; then
  npm run build
else
  npm run build:ci
fi
